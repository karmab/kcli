language: python
dist: bionic
sudo: required
python:
    - 3.9

addons:
    apt:
        update: true
        packages:
            - libvirt-daemon
            - libvirt-daemon-system
            - libvirt0
            - qemu-system-x86
            - qemu-utils
            - qemu-kvm
            - tree

before_install:
- pip3 install stdeb requests
- pip3 install setuptools --upgrade

before_script:
    - travis/setup_hypervisor.sh

script:
    - travis/build.sh
    - travis/testing.sh

after_success:
    - travis/release.sh
